<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link
      rel="stylesheet"
      href="https://bootswatch.com/4/darkly/bootstrap.min.css"
    />
    <link rel="stylesheet" href="/devDashboard.css" />
    <title>Book Store</title>
  </head>
  <body>
    <div id="grey" class="grey">
      <div class="header">
        <h4 style="align-self: center; margin-top: auto;">BOOK STORE</h4>
        <a class="btn btn-danger" href="/products/logout">Logout</a>
      </div>
      <div id="m1">
        <h1 class="text-center cap">
          Welcome <%= name %> !
        </h1>
        <br>
        <p class="text-center ml12" style="margin: auto;">This is developer's dashboard.</p>
      </div>
      <div id="para"></div>
    </div>
    <div class="container">
      <div class="links">
        <a href="/products/add" class="btn"
          >Add Product</a
        >
        <a href="/products/delete" class="btn"
          >Delete Product</a
        >
        <a href="/products/search" class="btn"
          >Search and Update Product</a
        >
      </div>
    </div>
    <div class="container">
        <br>
        <h3 class="mt-4 mb-4">Products</h3>
        <br>
        <div class="products">
          <% for (var i=0; i<products.length; i++) { %>
              <div class="product">
                  <img style="height: 300px;" src="<%= products[i].image %>" alt="Book">
                  <h3 class="mt-3"><%= products[i].name %></h3>
                  <h5>Rs.<%= products[i].cost %>/-</h5>
                  <a href="/products/update/<%=products[i].id%>" class="btn btn-success" >Edit</a>
                  <a href="/products/delete/<%=products[i].id%>" class="btn btn-warning" >Delete</a>
              </div>
          <%}%>
      </div>
    </div>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/animejs/2.0.2/anime.min.js"></script>
    <script>
      // Wrap every letter in a span
var textWrapper = document.querySelector('.ml12');
textWrapper.innerHTML = textWrapper.textContent.replace(/\S/g, "<span class='letter'>$&</span>");

anime.timeline({loop: true})
  .add({
    targets: '.ml12 .letter',
    translateX: [40,0],
    translateZ: 0,
    opacity: [0,1],
    easing: "easeOutExpo",
    duration: 1200,
    delay: (el, i) => 500 + 30 * i
  }).add({
    targets: '.ml12 .letter',
    translateX: [0,-30],
    opacity: [1,0],
    easing: "easeInExpo",
    duration: 1100,
    delay: (el, i) => 100 + 30 * i
  });
    </script>
  </body>
</html>
